<html>
<head>
    <meta charset="UTF-8">
    <title>养老服务中心</title>
    <link rel="stylesheet" href="cssfiles/users.css" type="text/css">
    <script src="https://cdn.static.runoob.com/libs/angular.js/1.4.6/angular.min.js"></script>
</head>
<body>
<a href="/register">注册</a><br>
<a href="/login">登陆</a><br>
<a href="javascript:void(0);" onclick="displayAllusers()">查看所有用户</a><br>
<div ng-app="myApp" ng-controller="customersCtrl" style="display:none" id="myApp">

    <table>
        <tr>
            <td>姓名</td>
            <td>邮箱</td>
            <td>手机号</td>
        </tr>
        <tr ng-repeat="x in vipusers">
            <td>{{ x.userName }}</td>
            <td>{{ x.mailBox }}</td>
            <td>{{ x.telephone }}</td>
        </tr>
    </table>

</div>

<script>
    var app = angular.module('myApp', []);
    app.controller('customersCtrl', function ($scope, $http) {
        $http.get("/users")
            .success(function (response) {
                console.log(response);
                $scope.vipusers = response;
            });
    });
    function displayAllusers() {
        var s=document.getElementById("myApp").style.display;
        if(s==="block") {
            $("#myApp").css("display","none");
        }else{
            $("#myApp").css("display","block");
        }
    }
</script>
<script src="../jsfiles/jquery-3.1.1.js"></script>
<script src="../jsfiles/vipuser/users.js"></script>
</body>
</html>
