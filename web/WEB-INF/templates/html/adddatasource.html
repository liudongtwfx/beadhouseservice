<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>添加数据源</title>
    <link rel="stylesheet" href="http://127.0.0.1:8088/cssfiles/admin/layout.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="http://127.0.0.1:8088/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="http://127.0.0.1:8088/cssfiles/premium.css">
    <link rel="stylesheet" href="http://127.0.0.1:8088/cssfiles/fileinput/theme.css">
    <link rel="stylesheet" href="http://127.0.0.1:8088/cssfiles/admin/commonside.css">
    <link rel="stylesheet" href="http://127.0.0.1:8088/cssfiles/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="http://127.0.0.1:8088/cssfiles/admin/layout.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="../../bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="../../cssfiles/premium.css">
    <link rel="stylesheet" href="../../cssfiles/fileinput/theme.css">
    <link rel="stylesheet" href="../../cssfiles/admin/commonside.css">
    <link rel="stylesheet" href="../../cssfiles/font-awesome/css/font-awesome.css">
    <script src="http://127.0.0.1:8088/jsfiles/jquery-3.1.1.js" type="text/javascript"></script>
    <title>新增数据表</title>
</head>
<body>
<link rel="stylesheet" href="http://127.0.0.1:8088/cssfiles/admin/layout.css" type="text/css" media="screen"/>
<link rel="stylesheet" href="../../cssfiles/admin/layout.css" type="text/css" media="screen"/>
<link rel="stylesheet" href="../../cssfiles/admin/contentcommon.css" type="text/css" media="screen"/>
<link rel="stylesheet" href="http://127.0.0.1:8088/cssfiles/admin/contentcommon.css" type="text/css" media="screen"/>

<div class="container-fluid">
    <div th:replace="commonside::#secondary_bar"></div>
    <div th:replace="commonside::#sidebar"></div>
    <div class="col-sm-10">
        <div class="container">
            <div class="header">
                <h1 class="page-title">养老服务中心后台管理</h1>
                <ul class="breadcrumb">
                    <li th:text="#{admin.views.add.firsttitle}">视图管理</li>
                    <li class="active" th:text="#{admin.views.add.secondtitle}">添加数据源</li>
                </ul>
            </div>
            <div class="container" style="font-size: 16px">
                <script type="text/javascript" src="../../jsfiles/templates/adddatasource.js"></script>
                <div class="center-block col-sm-offset-2 col-sm-10 text-center">
                    <span th:text="${callbackinfo}" class="text-danger col-sm-12"></span>
                </div>

                <!--/*@thymesVar id="view" type="main.java.com.beadhouse.dynamic.dataencapsulation.StructAreaData"*/-->
                <table class="table">
                    <thead>
                    <tr>
                        <td>节点元素id</td>
                        <td>节点类型</td>
                        <td></td>
                        <td></td>
                    </tr>
                    </thead>
                    <tbody>
                    <tbody th:remove="all-but-first">
                    <tr th:each="element:${elementlist}">
                        <td th:text="${element.elementId}"></td>
                        <td th:text="${element.areaType}"></td>
                        <td>
                            <button class='btn btn-primary mybtn' data-toggle='modal' data-target='#adddatasource'
                                    onclick="changeElementId(this)" th:value="${element.elementId}">添加数据来源
                            </button>
                        </td>
                        <td>
                            <button class='btn btn-primary mybtn' data-toggle='modal' data-target='#adddata'
                                    onclick="changeElementId(this)" th:value="${element.elementId}">更变数据来源
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="modal fade" id="adddatasource" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
         aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        更改数据来源
                    </h4>
                </div>
                <div class="modal-body">
                    <form role="form">
                        <div class="row form-group">
                            <label for="tableselect">请选择数据库:</label>
                            <select id="schmeselect" onchange="getTables()">
                                <option value="demo">demo</option>
                                <option value="test">test</option>
                            </select>
                        </div>
                        <div class="row form-group">
                            <label for="tableselect">请选择数据表</label>
                            <select id="tableselect" onchange="getColumns()"></select>
                        </div>
                        <div class="row form-group">
                            <label for="tableselect">请选择数字段:</label>
                            <div id="columnsselect"></div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                    </button>
                    <button type="button" class="btn btn-primary" data-dismiss="model"
                            onclick="addDataSource()">提交更改
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>